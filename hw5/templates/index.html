[[extend 'layout.html']]

<style>
[v-cloak] {
     display: none;
}
</style>


<div class="section" id="vue-target" v-cloak>
  <!-- Put here your Vue.js template -->
    <div v-if="add_mode" class="container block">
        <div class="title">Postlandia</div>
        <div class="form">
            <div class="field">
                <div class="control">
                    <input type="text" v-model="post" class="input">
                </div>
            </div>
            <div class="field">
                <div class="control">
                    <input type="submit" @click="add_post" value="Post" class="button is-primary">
                    <input type="submit" @click="set_add_status(false)" value="Cancel" calss="button is-warning">
                </div>
            </div>
        </div>


    </div>

    <div class="container block">
        <h1 class = "title">Postlandia</h1>
        <table class="table is-striped is-fullwidth">
            <tr>
                <th></th>
            </tr>
            <tr v-for="r in rows">
                <td>{{ r.post }}</td>
            <td><button @click="delete_post(r._idx)" class="button is-danger">
                <i class="fa fa-trash"></i></button></td>
            </tr>
        </table>
        <button @click="set_add_status(true)" class="button is-primary">
            <i class="fa fa-plus fa-fw"></i>
        </button>
    </div>


</div>


[[block page_scripts]]
<!-- Loads the index-specific js for Vue -->
<script>
  let my_callback_url = "[[=XML(my_callback_url)]]";
  let load_post_url = "[[=XML(load_post_url)]]";
  let add_post_url = "[[=XML(add_post_url)]]";
  let delete_post_url = "[[=XML(delete_post_url)]]";



</script>
<script src="js/index.js"></script>
[[end]]
